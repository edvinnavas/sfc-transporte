-- EJEMPLO CREACIÓN DE TABLAS EN EL ESQUEMA.
CREATE TABLE USUARIO (
    ID_USUARIO BIGINT NOT NULL,
    NOMBRE_COMPLETO VARCHAR(500) NOT NULL,
    NOMBRE_USUARIO VARCHAR(50) NOT NULL,
    CONTRASENA VARCHAR(255) NOT NULL,
    CORREO_ELECTRONICO VARCHAR(200),
    ACTIVO INTEGER NOT NULL,
    DESCRIPCION TEXT,
    ID_ROL BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_USUARIO PRIMARY KEY (ID_USUARIO),
    CONSTRAINT FK_USUARIO_1 FOREIGN KEY (ID_ROL) REFERENCES ROL (ID_ROL)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

-- CONFIGURACIÓN DE TABLAS INICIALES EN EL ESQUEMA.
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (1, 'URL-BASE-GOOGLE-API', 'https://maps.googleapis.com/maps/api/distancematrix/json', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (2, 'KEY-GOOGLE-API', 'XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (3, 'DEPARTURE-TIME-GOOGLE-API', 'now', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (4, 'URL-SMS-OPEN', 'http://190.120.7.3/wsunopetrol/service.asmx?WSDL', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (5, 'USER-SMS-OPEN', 'CSC-UNO', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (6, 'PASS-SMS-OPEN', 'XFL1&amp;TM', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (7, 'URL-GEOTAB', 'https://my.geotab.com/apiv1/', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (8, 'USER-GEOTAB', 'lrmolina@uno-ca.com', CURRENT_TIMESTAMP);
INSERT INTO PARAMETROS_GPS (ID_PARAMETRO, NOMBRE, VALOR, FECHA_HORA) VALUES (9, 'PASS-GEOTAB', 'Pass0512024', CURRENT_TIMESTAMP);
    
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (1, 'menu-Archivo');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (2, 'menuItem-Inicio');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (3, 'menuItem-Roles');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (4, 'menuItem-Usuarios');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (5, 'menu-Catálogos');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (6, 'menuItem-Viajes');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (7, 'menuItem-Países');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (8, 'menuItem-Compañías');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (9, 'menuItem-Plantas');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (10, 'menuItem-Estado-Viaje');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (11, 'menuItem-Transportistas');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (12, 'menuItem-Vehículos');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (13, 'menuItem-Clientes');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (14, 'menuItem-Clientes-Destino');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (15, 'menu-Viajes');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (16, 'menuItem-Disponibilidad');

INSERT INTO ROL (ID_ROL, NOMBRE, ACTIVO, FECHA_HORA) VALUES (1, 'Administrador', 1, CURRENT_TIMESTAMP);
INSERT INTO ROL (ID_ROL, NOMBRE, ACTIVO, FECHA_HORA) VALUES (2, 'Transportista', 1, CURRENT_TIMESTAMP);
INSERT INTO ROL (ID_ROL, NOMBRE, ACTIVO, FECHA_HORA) VALUES (3, 'Programación', 1, CURRENT_TIMESTAMP);

INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 1, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 2, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 3, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 4, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 5, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 6, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 7, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 8, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 9, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 10, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 11, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 12, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 13, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 14, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 15, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 16, CURRENT_TIMESTAMP);

INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (2, 1, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (2, 2, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (2, 15, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (2, 16, CURRENT_TIMESTAMP);

INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (3, 1, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (3, 2, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (3, 6, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (3, 15, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (3, 16, CURRENT_TIMESTAMP);

INSERT INTO PREDIO (ID_PREDIO, CODIGO, NOMBRE, DESCRIPCION, ID_TRANSPORTISTA, FECHA_HORA) VALUES (1, 'PR-724551', 'PREDIO TRANSPORTES MARTINEZ, S.A. DE C.V.', 'PREDIO TRANSPORTES MARTINEZ', 10, CURRENT_TIMESTAMP);
INSERT INTO PREDIO (ID_PREDIO, CODIGO, NOMBRE, DESCRIPCION, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2, 'PR-726460', 'PREDIO TRANSPORTES Y DIVERSOS, S.A. DE C.V.', 'PREDIO TRANSPORTES DIVERSOS', 42, CURRENT_TIMESTAMP);
INSERT INTO PREDIO (ID_PREDIO, CODIGO, NOMBRE, DESCRIPCION, ID_TRANSPORTISTA, FECHA_HORA) VALUES (3, 'PR-851034', 'PREDIO EST. DE SERV. UNO CR -UPCR SUMINISTRO', 'PREDIO TRANSPORTES ECSA CR', 5, CURRENT_TIMESTAMP);
INSERT INTO PREDIO (ID_PREDIO, CODIGO, NOMBRE, DESCRIPCION, ID_TRANSPORTISTA, FECHA_HORA) VALUES (4, 'PR-705414', 'PREDIO TRANS ADIME SHELL', 'PREDIO TRANS ADIME SHELL', 3, CURRENT_TIMESTAMP);
INSERT INTO PREDIO (ID_PREDIO, CODIGO, NOMBRE, DESCRIPCION, ID_TRANSPORTISTA, FECHA_HORA) VALUES (5, 'PR-101814', 'PREDIO TRANS ADIME UNOPETROL', 'PREDIO TRANS ADIME UNOPETROL', 36, CURRENT_TIMESTAMP);

INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (1, 'Administrador', 'admin', SHA2('admin2023', 512), 'rmolina@uno-ca.com', 1, 'Usuario admnistrador del sitema.', 1, CURRENT_TIMESTAMP);

INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (2, 'TMARTINEZ', 'TMARTINEZ', SHA2('TM1023$1', 512), '-', 1, 'Usuario transportista.', 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (3, 'DIVERSOS', 'DIVERSOS', SHA2('DIVERSOS', 512), '-', 1, 'Usuario transportista.', 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (17, 'FRANCISCO CUBILLO', 'ECSACR', SHA2('fcubillo', 512), '-', 1, 'Usuario transportista.', 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (18, 'ADIMEGT', 'ADIMEGT', SHA2('adime123', 512), '-', 1, 'Usuario transportista.', 2, CURRENT_TIMESTAMP);

INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (4, 'BILLY DE SOUZA', 'BSOUZA', SHA2('BSOUZA', 512), 'bdesouza@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (5, 'ELDER TOJ', 'ETOJLOPEZ', SHA2('Elder2020', 512), 'etoj@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (6, 'GEMMA HERNANDEZ', 'GHERNANDEZ', SHA2('GHERNANDEZ', 512), 'ghernandez@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (7, 'HUGO MORALES', 'HMORALES', SHA2('HMORALES', 512), 'hmorales@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (8, 'JAVIER BARILLAS', 'JBARILLAS', SHA2('JBARILLAS', 512), 'jbarillas@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (9, 'JOSE VALENZUELA', 'JVALENZUELA', SHA2('JVALENZUELA', 512), 'jvalenzuela@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (10, 'JUAN CARLOS ARRIAGA', 'JCARRIAGA', SHA2('JCARRIAGA', 512), 'jcarriaga@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (11, 'JORGE URRUTIA', 'JURRUTIA', SHA2('UnoGPS2021', 512), 'jurrutia@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (12, 'VILMA DUARTE', 'VDUARTE', SHA2('vduarte', 512), 'vduarte@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (13, 'HUGO VELIZ', 'HVELIZ', SHA2('hveliz', 512), 'hveliz@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (14, 'NOE SAQUIC', 'NSAQUIC', SHA2('nsaquic', 512), 'nsaquic@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (15, 'ALEJANDRO ZEPEDA', 'AZEPEDA', SHA2('AZEPEDA', 512), 'azepeda@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (16, 'JOSE CORDON', 'JCORDON', SHA2('jcordon', 512), 'jcordon@uno-ca.com', 1, 'Usuario de programación.', 3, CURRENT_TIMESTAMP);

INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (1, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (1, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (1, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (1, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (1, 5, CURRENT_TIMESTAMP);

INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (2, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (3, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (17, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (18, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (18, 5, CURRENT_TIMESTAMP);

INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (4, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (4, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (4, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (4, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (4, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (5, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (5, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (5, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (5, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (5, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (6, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (6, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (6, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (6, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (6, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (7, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (7, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (7, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (7, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (7, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (8, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (8, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (8, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (8, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (8, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (9, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (9, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (9, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (9, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (9, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (10, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (10, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (10, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (10, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (10, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (11, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (11, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (11, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (11, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (11, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (12, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (12, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (12, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (12, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (12, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (13, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (13, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (13, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (13, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (13, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (14, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (14, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (14, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (14, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (14, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (15, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (15, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (15, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (15, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (15, 5, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (16, 1, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (16, 2, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (16, 3, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (16, 4, CURRENT_TIMESTAMP);
INSERT INTO USUARIO_PREDIO (ID_USUARIO, ID_PREDIO, FECHA_HORA) VALUES (16, 5, CURRENT_TIMESTAMP);

INSERT INTO PROVEEDOR_GPS (ID_PROVEEDOR, NOMBRE, URL_SERVICIO, ACTIVO, FECHA_HORA) VALUES (1, 'SMS-OPEN', 'http://190.120.7.3/wsunopetrol/service.asmx?WSDL', 1, CURRENT_TIMESTAMP);

INSERT INTO TIPO_CARGA (ID_TIPO_CARGA, NOMBRE, FECHA_HORA) VALUES (1, 'TOP', CURRENT_TIMESTAMP);
INSERT INTO TIPO_CARGA (ID_TIPO_CARGA, NOMBRE, FECHA_HORA) VALUES (2, 'BOTTOM', CURRENT_TIMESTAMP);
INSERT INTO TIPO_CARGA (ID_TIPO_CARGA, NOMBRE, FECHA_HORA) VALUES (3, 'NO APLICA', CURRENT_TIMESTAMP);

COMMIT;

-- CONSULTA DE TABLAS DEL ESQUEMA DB_TRANSPORTES.
SELECT A.* FROM MENU A;
SELECT A.* FROM ROL A;
SELECT A.* FROM ROL_MENU A;
SELECT A.* FROM USUARIO A;

SELECT A.* FROM PROVEEDOR_GPS A;
SELECT A.* FROM PARAMETROS_GPS A;

SELECT A.* FROM TIPO_CARGA A;
SELECT A.* FROM PAIS A;
SELECT A.* FROM COMPANIA A;
SELECT A.* FROM PLANTA A;
SELECT A.* FROM PREDIO A;
SELECT A.* FROM USUARIO_PREDIO A;
SELECT A.* FROM TRANSPORTISTA A;
SELECT A.* FROM VEHICULO A;
SELECT A.* FROM CABEZAL A;
SELECT A.* FROM CLIENTE A;
SELECT A.* FROM CLIENTE_DESTINO A;
SELECT A.* FROM ESTADO_VIAJE A;

-- CONSULTA DE VIAJES, UBICACIONES POR VIAJE Y DISPONIBILIDAD.
SELECT A.* FROM VIAJES A WHERE A.FECHA_VIAJE BETWEEN '2023-12-26 00:00:00' AND '2023-12-26 23:59:59';

SELECT A.* FROM VIAJE_UBICACIONES A WHERE A.FECHA_HORA BETWEEN '2023-12-26 00:00:00' AND '2023-12-26 23:59:59';

SELECT A.* FROM DISPONIBILIDAD A WHERE A.FECHA = '2023-12-28';

-- CONSULTA DE UBICACIONES DEL PROVEEDORES DE GPS :: SMS-OPEN.
SELECT A.* FROM SMS_OPEN_ENCABEZADO A WHERE A.FECHA_ACTUALIZACION BETWEEN '2023-12-27 00:00:00' AND '2023-12-27 23:59:59';
SELECT A.* FROM SMS_OPEN_DETALLE A WHERE A.ID_SMS_OPEN IN (15517);

-- CONSULTA DE UBICACIONES DEL PROVEEDORES DE GPS :: GEOTAB.
SELECT A.* FROM GEOTAB_ENCABEZADO A WHERE A.FECHA_ACTUALIZACION BETWEEN '2023-12-27 00:00:00' AND '2023-12-27 23:59:59';
SELECT A.* FROM GEOTAB_DETALLE A WHERE A.ID_GEOTAB IN (873);

-- CONSULTA DE LA DISPONIBILIDAD POR TRANSPORTISTA Y FECHA.
SELECT T.NOMBRE TRANSPORTISTA, P.NOMBRE PREDIO, V.CODIGO CISTERNA, TC.NOMBRE TIPO_CARGA, V.BOMBA BOMBA, C.CODIGO CABEZAL, A.HORA_INICIO, A.HORA_FINAL, PL.CODIGO CODIGO_PLANTA, PL.NOMBRE NOMBRE_PLANTA, 'Puede viajar' DISPONIBILIDAD, A.FECHA FECHA_DISPONIBILIDAD, A.FECHA_HORA FECHA_HORA
FROM DISPONIBILIDAD A 
     LEFT JOIN TRANSPORTISTA T ON (A.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA) 
     LEFT JOIN VEHICULO V ON (A.ID_VEHICULO=V.ID_VEHICULO) 
     LEFT JOIN TIPO_CARGA TC ON (V.ID_TIPO_CARGA=TC.ID_TIPO_CARGA) 
     LEFT JOIN CABEZAL C ON (A.ID_CABEZAL=C.ID_CABEZAL)
     LEFT JOIN PREDIO P ON (C.ID_PREDIO=P.ID_PREDIO)
     LEFT JOIN PLANTA PL ON (A.ID_PLANTA=PL.ID_PLANTA)
WHERE A.FECHA='2023-12-27'
ORDER BY T.NOMBRE;

-- SENTENCIA PARA CAMBIAR LA GEOZONA DE LAS PLANTAS.
SELECT A.* FROM PLANTA A WHERE A.CODIGO=728016;
UPDATE PLANTA SET
ZONA_LATITUD_1=13.571043, ZONA_LONGITUD_1=-89.835103,
ZONA_LATITUD_2=13.561782, ZONA_LONGITUD_2=-89.835103,
ZONA_LATITUD_3=13.561782, ZONA_LONGITUD_3=-89.820726,
ZONA_LATITUD_4=13.571043, ZONA_LONGITUD_4=-89.820726,
ZONA_LATITUD_5=13.571043, ZONA_LONGITUD_5=-89.835103
WHERE CODIGO=728016;

-- SENTENCIA PARA CAMBIAR LA GEOZONA DE LOS CLIENTES-DESTINO.
SELECT A.* FROM CLIENTE_DESTINO A WHERE A.CODIGO=725338;
UPDATE CLIENTE_DESTINO SET
ZONA_LATITUD_1=13.661082, ZONA_LONGITUD_1=-89.190144,
ZONA_LATITUD_2=13.660678, ZONA_LONGITUD_2=-89.190144,
ZONA_LATITUD_3=13.660678, ZONA_LONGITUD_3=-89.189642,
ZONA_LATITUD_4=13.661082, ZONA_LONGITUD_4=-89.189642,
ZONA_LATITUD_5=13.661082, ZONA_LONGITUD_5=-89.190144
WHERE CODIGO=725338;

-- LISTA DE VEHÍCULOS Y CABEZALES DE LOS TRANSPORTISTAS MARTINEZ Y DIVERSOS DE EL SALVADOR UTILIZADOS EN LA DISPONIBILIDAD.
SELECT A.* FROM VEHICULO A WHERE A.ID_TRANSPORTISTA IN (10, 42) ORDER BY A.CODIGO;
SELECT A.* FROM CABEZAL A WHERE A.ID_TRANSPORTISTA IN (10, 42) ORDER BY A.CODIGO;

-- NÚMERO DE ORDENES POR PAÍS.
SELECT P.NOMBRE PAIS, COUNT(*) NO_ORDENES
FROM VIAJES V LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS) LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA)
WHERE V.FECHA_VIAJE='2023-10-21' AND T.RASTREABLE=1
GROUP BY P.ID_PAIS;

-- NÚMERO DE ORDENES POR PAÍS Y ESTADO.
SELECT 
P.NOMBRE PAIS,
CONCAT(EV.CODIGO,'-',EV.NOMBRE) ESTADO_VIAJE,
COUNT(*) NO_ORDENES
FROM VIAJES V
     LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS)
     LEFT JOIN ESTADO_VIAJE EV ON (V.ID_ESTADO_VIAJE=EV.ID_ESTADO_VIAJE)
WHERE V.FECHA_VIAJE='2023-10-21'
GROUP BY P.NOMBRE, CONCAT(EV.CODIGO,'-',EV.NOMBRE)
ORDER BY P.NOMBRE, CONCAT(EV.CODIGO,'-',EV.NOMBRE);

-- NÚMERO DE ORDENES POR PAÍS, ESTADO Y TRANSPORTISTAS (TRACKING)
SELECT 
P.NOMBRE PAIS,
T.NOMBRE TRANSPORTISTA,
CONCAT(EV.CODIGO,'-',EV.NOMBRE) ESTADO_VIAJE,
COUNT(*) NO_ORDENES
FROM VIAJES V
     LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS)
     LEFT JOIN ESTADO_VIAJE EV ON (V.ID_ESTADO_VIAJE=EV.ID_ESTADO_VIAJE)
     LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA)
WHERE V.FECHA_VIAJE='2023-11-01' AND T.RASTREABLE=1
GROUP BY P.NOMBRE, T.NOMBRE, CONCAT(EV.CODIGO,'-',EV.NOMBRE)
ORDER BY P.NOMBRE, T.NOMBRE, CONCAT(EV.CODIGO,'-',EV.NOMBRE);

-- NUMERO DE VIAJES POR PAÍS Y ESTADO.
SELECT 
VIAJES.PAIS,
COUNT(*) NO_VIAJES 
FROM 
	(SELECT P.NOMBRE PAIS, V.ID_COMPANIA, V.ID_PLANTA, V.NUMERO_VIAJE, COUNT(*) NUMERO 
	 FROM VIAJES V LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS)
     WHERE V.FECHA_VIAJE='2023-11-01' 
     GROUP BY P.NOMBRE, V.ID_COMPANIA, V.ID_PLANTA, V.NUMERO_VIAJE) VIAJES
GROUP BY VIAJES.PAIS;

-- NO. ORDENES POR PAIS Y TRANSPORTISTA.
SELECT 
P.NOMBRE PAIS,
T.NOMBRE TRANSPORTISTA,
COUNT(*) NO_ORDENES
FROM VIAJES V
     LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS)
     LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA)
WHERE V.FECHA_VIAJE='2023-11-01' AND T.RASTREABLE=1
GROUP BY P.NOMBRE, T.NOMBRE
ORDER BY P.NOMBRE, T.NOMBRE;

-- NO. ORDENES QUE REPORTARON GPS POR PAIS Y TRANSPORTISTA.
SELECT 
P.NOMBRE PAIS,
T.NOMBRE TRANSPORTISTA,
COUNT(*) NO_ORDENES_REPORTARON
FROM VIAJES V
     LEFT JOIN PAIS P ON (V.ID_PAIS=P.ID_PAIS)
     LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA)     
WHERE 
(V.FECHA_VIAJE='2023-11-01') AND 
(T.RASTREABLE=1) AND
(V.ID_PAIS, V.ID_COMPANIA, V.ID_PLANTA, V.NUMERO_VIAJE, V.TIPO_ORDEN_VENTA, V.NUMERO_ORDEN_VENTA) IN (SELECT VU.ID_PAIS, VU.ID_COMPANIA, VU.ID_PLANTA, VU.NUMERO_VIAJE, VU.TIPO_ORDEN_VENTA, VU.NUMERO_ORDEN_VENTA
                                                                                                      FROM VIAJE_UBICACIONES VU
                                                                                                      WHERE VU.FECHA_HORA BETWEEN '2023-11-01 00:00:00' AND '2023-11-01 23:59:59')
GROUP BY P.NOMBRE, T.NOMBRE
ORDER BY P.NOMBRE, T.NOMBRE;

-- MANTENIMIENTO ANUAL TABLA SMS_OPEN_DETALLE.
SELECT 
	YEAR(STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s')) ANIO,
    MONTH(STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s')) MES,
    COUNT(*) NUMERO
FROM SMS_OPEN_DETALLE SOD
GROUP BY YEAR(STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s')), MONTH(STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s'))
ORDER BY ANIO, MES;

SELECT SOD.* FROM SMS_OPEN_DETALLE SOD WHERE STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';
SELECT COUNT(*) NUMERO FROM SMS_OPEN_DETALLE SOD WHERE STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';

SELECT SOD.* FROM SMS_OPEN_DETALLE_HISTORY_2023 SOD WHERE STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';
SELECT COUNT(*) NUMERO FROM SMS_OPEN_DETALLE_HISTORY_2023 SOD WHERE STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';

-- INSERT INTO SMS_OPEN_DETALLE_HISTORY_2023 
-- SELECT SOD.* FROM SMS_OPEN_DETALLE SOD WHERE STR_TO_DATE(SOD.DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';

-- DELETE FROM SMS_OPEN_DETALLE WHERE STR_TO_DATE(DATETIME_UBICACION, '%d-%m-%Y %H:%i:%s') BETWEEN '2023-07-01 00:00:00' AND '2023-07-31 23:59:59';

-- QUERY PARA OBTENER ORDENES ACTIVAS, TERMINADA Y ORDENES QUE REPORTA Y NO REPORTAN.
SELECT 
	UPPER(PA.NOMBRE) PAIS,
	UPPER(T.NOMBRE) TRANSPORTISTA,
	UPPER(P.NOMBRE) PLANTA,
	V.NUMERO_VIAJE NO_VIAJE,
	CONCAT(CONCAT(TIPO_ORDEN_VENTA, '-'), V.NUMERO_ORDEN_VENTA) ORDEN_VENTA,
    V.ESTADO ESTADO_VIAJE,
    (SELECT COUNT(*) FROM VIAJE_UBICACIONES VU WHERE VU.ID_PAIS=V.ID_PAIS AND VU.ID_COMPANIA=V.ID_COMPANIA AND VU.ID_PLANTA=V.ID_PLANTA AND VU.NUMERO_VIAJE=V.NUMERO_VIAJE AND VU.TIPO_ORDEN_VENTA=V.TIPO_ORDEN_VENTA AND VU.NUMERO_ORDEN_VENTA=V.NUMERO_ORDEN_VENTA) NUMERO_UBICACIONES
FROM 
	VIAJES V 
    LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA) 
    LEFT JOIN PLANTA P ON (V.ID_PLANTA=P.ID_PLANTA) 
    LEFT JOIN PAIS PA ON (V.ID_PAIS=PA.ID_PAIS)
WHERE 
	V.FECHA_VIAJE='2023-12-27' AND 
    T.RASTREABLE=1
ORDER BY 
	PAIS, 
    TRANSPORTISTA, 
    PLANTA;
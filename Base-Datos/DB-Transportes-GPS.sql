DROP TABLE IF EXISTS MENU;
CREATE TABLE MENU (
    ID_MENU BIGINT NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    CONSTRAINT PK_MENU PRIMARY KEY (ID_MENU)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS ROL;
CREATE TABLE ROL (
    ID_ROL BIGINT NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    ACTIVO INTEGER NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_ROL PRIMARY KEY (ID_ROL)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS ROL_MENU;
CREATE TABLE ROL_MENU (
    id_rol BIGINT NOT NULL,
    id_menu BIGINT NOT NULL,
    fecha_hora TIMESTAMP NOT NULL,
    CONSTRAINT PK_ROL_MENU PRIMARY KEY (ID_ROL, ID_MENU),
    CONSTRAINT FK_ROL_MENU_1 FOREIGN KEY (ID_ROL) REFERENCES ROL (ID_ROL),
    CONSTRAINT FK_ROL_MENU_2 FOREIGN KEY (ID_MENU) REFERENCES MENU (ID_MENU)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS USUARIO;
CREATE TABLE USUARIO (
    ID_USUARIO BIGINT NOT NULL,
    NOMBRE_COMPLETO VARCHAR(500) NOT NULL,
    NOMBRE_USUARIO VARCHAR(50) NOT NULL,
    CONTRASENA VARCHAR(255) NOT NULL,
    CORREO_ELECTRONICO VARCHAR(200),
    ACTIVO INTEGER NOT NULL,
    DESCRIPCION TEXT,
    ID_ROL BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_USUARIO PRIMARY KEY (ID_USUARIO),
    CONSTRAINT FK_USUARIO_1 FOREIGN KEY (ID_ROL) REFERENCES ROL (ID_ROL)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS PROVEEDOR_GPS;
CREATE TABLE PROVEEDOR_GPS (
    ID_PROVEEDOR BIGINT NOT NULL,
    NOMBRE VARCHAR(200) NOT NULL,
    URL_SERVICIO VARCHAR(500) NOT NULL,
    ACTIVO INTEGER NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_PROVEEDOR PRIMARY KEY (ID_PROVEEDOR)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS PAIS;
CREATE TABLE PAIS (
    ID_PAIS BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_PAIS PRIMARY KEY (ID_PAIS)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS COMPANIA;
CREATE TABLE COMPANIA (
    ID_COMPANIA BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    ID_PAIS BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_COMPANIA PRIMARY KEY (ID_COMPANIA),
    CONSTRAINT FK_COMPANIA_1 FOREIGN KEY (ID_PAIS) REFERENCES PAIS (ID_PAIS)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS PLANTA;
CREATE TABLE PLANTA (
    ID_PLANTA BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    ID_COMPANIA BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_PLANTA PRIMARY KEY (ID_PLANTA),
    CONSTRAINT FK_PLANTA_1 FOREIGN KEY (ID_COMPANIA) REFERENCES COMPANIA (ID_COMPANIA)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS ESTADO_VIAJE;
CREATE TABLE ESTADO_VIAJE (
    ID_ESTADO_VIAJE BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_ESTADO_VIAJE PRIMARY KEY (ID_ESTADO_VIAJE)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS TRANSPORTISTA;
CREATE TABLE TRANSPORTISTA (
    ID_TRANSPORTISTA BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    ID_PAIS BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_TRANSPORTISTA PRIMARY KEY (ID_TRANSPORTISTA),
    CONSTRAINT FK_TRANSPORTISTA_1 FOREIGN KEY (ID_PAIS) REFERENCES PAIS (ID_PAIS)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS VEHICULO;
CREATE TABLE VEHICULO (
    ID_VEHICULO BIGINT NOT NULL,
    CODIGO VARCHAR(50) NOT NULL,
    PLACA VARCHAR(50) NOT NULL,
    ID_TRANSPORTISTA BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_VEHICULO PRIMARY KEY (ID_VEHICULO),
    CONSTRAINT FK_VEHICULO_1 FOREIGN KEY (ID_TRANSPORTISTA) REFERENCES TRANSPORTISTA (ID_TRANSPORTISTA)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS CABEZAL;
CREATE TABLE CABEZAL (
    ID_CABEZAL BIGINT NOT NULL,
    CODIGO VARCHAR(50) NOT NULL,
    PLACA VARCHAR(50) NOT NULL,
    IMEI VARCHAR(50) NOT NULL,
    ID_TRANSPORTISTA BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_CABEZAL PRIMARY KEY (ID_CABEZAL),
    CONSTRAINT FK_CABEZAL_1 FOREIGN KEY (ID_TRANSPORTISTA) REFERENCES TRANSPORTISTA (ID_TRANSPORTISTA)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS CLIENTE;
CREATE TABLE CLIENTE (
    ID_CLIENTE BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_CLIENTE PRIMARY KEY (ID_CLIENTE)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS CLIENTE_DESTINO;
CREATE TABLE CLIENTE_DESTINO (
    ID_CLIENTE_DESTINO BIGINT NOT NULL,
    CODIGO VARCHAR(10) NOT NULL,
    NOMBRE VARCHAR(500) NOT NULL,
    ID_CLIENTE BIGINT NOT NULL,
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_CLIENTE_DESTINO PRIMARY KEY (ID_CLIENTE_DESTINO),
    CONSTRAINT FK_CLIENTE_DESTINO_1 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS SMS_OPEN;
CREATE TABLE SMS_OPEN (
    ID_SMS_OPEN BIGINT NOT NULL,
    NAME_VEHICULO VARCHAR(500),
    IMEI VARCHAR(500),
    ODOMETER VARCHAR(500),
    LATITUDE VARCHAR(500),
    LONGITUDE VARCHAR(500),
    DATETIME_UBICACION VARCHAR(500),
    SPEED VARCHAR(500),
    SPEEDMEASURE VARCHAR(500),
    HEADING VARCHAR(500),
    LOCATIONDESCRIPTION VARCHAR(500),
    DIRVERNAME VARCHAR(500),
    DRAVERCODE VARCHAR(500),
    IGNITION VARCHAR(500),
    DATEUTC VARCHAR(500),
    ADDRESS VARCHAR(500),
    FECHA_HORA TIMESTAMP NOT NULL,
    CONSTRAINT PK_SMS_OPEN PRIMARY KEY (ID_SMS_OPEN)
) ENGINE = INNODB DEFAULT CHARACTER SET = UTF8MB4;

DROP TABLE IF EXISTS VIAJES;
CREATE TABLE VIAJES (
    ID_PAIS BIGINT NOT NULL,
    ID_COMPANIA BIGINT NOT NULL,
    ID_PLANTA BIGINT NOT NULL,
    NUMERO_VIAJE BIGINT NOT NULL,
    FECHA_VIAJE DATE NOT NULL,
    ID_ESTADO_VIAJE BIGINT NOT NULL,
    ID_VEHICULO BIGINT NOT NULL,
    ID_TRANSPORTISTA BIGINT NOT NULL,
    TIPO_ORDEN_VENTA VARCHAR(3) NOT NULL,
    NUMERO_ORDEN_VENTA BIGINT NOT NULL,
    ID_CLIENTE BIGINT NOT NULL,
    ID_CLIENTE_DESTINO BIGINT NOT NULL,
    TIPO_FLETE_VIAJE VARCHAR(3) NOT NULL,
    FECHA_HORA TIMESTAMP,
    ESTADO VARCHAR(3),
    FECHA_HORA_TERMINADO TIMESTAMP,
    CONSTRAINT PK_VIAJES PRIMARY KEY (ID_PAIS, ID_COMPANIA, ID_PLANTA, NUMERO_VIAJE, TIPO_ORDEN_VENTA, NUMERO_ORDEN_VENTA),
    CONSTRAINT FK_VIAJES_1 FOREIGN KEY (ID_PAIS) REFERENCES PAIS (ID_PAIS),
    CONSTRAINT FK_VIAJES_2 FOREIGN KEY (ID_COMPANIA) REFERENCES COMPANIA (ID_COMPANIA),
    CONSTRAINT FK_VIAJES_3 FOREIGN KEY (ID_PLANTA) REFERENCES PLANTA (ID_PLANTA),
    CONSTRAINT FK_VIAJES_4 FOREIGN KEY (ID_ESTADO_VIAJE) REFERENCES ESTADO_VIAJE (ID_ESTADO_VIAJE),
    CONSTRAINT FK_VIAJES_6 FOREIGN KEY (ID_VEHICULO) REFERENCES VEHICULO (ID_VEHICULO),
    CONSTRAINT FK_VIAJES_7 FOREIGN KEY (ID_TRANSPORTISTA) REFERENCES TRANSPORTISTA (ID_TRANSPORTISTA),
    CONSTRAINT FK_VIAJES_8 FOREIGN KEY (ID_CLIENTE) REFERENCES CLIENTE (ID_CLIENTE),
    CONSTRAINT FK_VIAJES_9 FOREIGN KEY (ID_CLIENTE_DESTINO) REFERENCES CLIENTE_DESTINO (ID_CLIENTE_DESTINO)
) ENGINE=INNODB DEFAULT CHARACTER SET=UTF8MB4;

DROP TABLE IF EXISTS DISPONIBILIDAD;
CREATE TABLE DISPONIBILIDAD (
    ID_TRANSPORTISTA BIGINT NOT NULL,
    ID_VEHICULO BIGINT NOT NULL,
    ID_CABEZAL BIGINT,
    FECHA DATE NOT NULL,
    FECHA_HORA_TERMINADO TIMESTAMP,
    CONSTRAINT PK_DISPONIBILIDAD PRIMARY KEY (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA),
    CONSTRAINT FK_DISPONIBILIDAD_1 FOREIGN KEY (ID_TRANSPORTISTA) REFERENCES TRANSPORTISTA (ID_TRANSPORTISTA),
    CONSTRAINT FK_DISPONIBILIDAD_2 FOREIGN KEY (ID_VEHICULO) REFERENCES VEHICULO (ID_VEHICULO),
    CONSTRAINT FK_DISPONIBILIDAD_3 FOREIGN KEY (ID_CABEZAL) REFERENCES CABEZAL (ID_CABEZAL)
) ENGINE=INNODB DEFAULT CHARACTER SET=UTF8MB4;

INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (1, 'menu-Archivo');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (2, 'menuItem-Inicio');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (3, 'menuItem-Roles');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (4, 'menuItem-Usuarios');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (5, 'menu-Transporte');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (6, 'menuItem-Viajes');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (7, 'menuItem-Países');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (8, 'menuItem-Compañías');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (9, 'menuItem-Plantas');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (10, 'menuItem-Estado-Viaje');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (11, 'menuItem-Transportistas');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (12, 'menuItem-Vehículos');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (13, 'menuItem-Clientes');
INSERT INTO MENU (ID_MENU, NOMBRE) VALUES (14, 'menuItem-Clientes-Destino');

INSERT INTO ROL (ID_ROL, NOMBRE, ACTIVO, FECHA_HORA) VALUES (1, 'Administrador', 1, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 1, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 2, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 3, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 4, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 5, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 6, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 7, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 8, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 9, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 10, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 11, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 12, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 13, CURRENT_TIMESTAMP);
INSERT INTO ROL_MENU (ID_ROL, ID_MENU, FECHA_HORA) VALUES (1, 14, CURRENT_TIMESTAMP);

INSERT INTO USUARIO (ID_USUARIO, NOMBRE_COMPLETO, NOMBRE_USUARIO, CONTRASENA, CORREO_ELECTRONICO, ACTIVO, DESCRIPCION, ID_ROL, FECHA_HORA) 
VALUES (1, 'Administrador', 'admin', SHA2('admin2023', 512), 'rmolina@uno-ca.com', 1, 'Usuario admnistrador del sitema.', 1, CURRENT_TIMESTAMP);
INSERT INTO PROVEEDOR_GPS (ID_PROVEEDOR, NOMBRE, URL_SERVICIO, ACTIVO, FECHA_HORA) VALUES (1, 'SMS-OPEN', 'http://190.120.7.3/wsunopetrol/service.asmx?WSDL', 1, CURRENT_TIMESTAMP);

SELECT A.* FROM MENU A;
SELECT A.* FROM ROL A;
SELECT A.* FROM ROL_MENU A;
SELECT A.* FROM USUARIO A;
SELECT A.* FROM PROVEEDOR_GPS A;

SELECT A.* FROM PAIS A;
SELECT A.* FROM COMPANIA A;
SELECT A.* FROM PLANTA A;
SELECT A.* FROM ESTADO_VIAJE A;
SELECT A.* FROM VEHICULO A;
SELECT A.* FROM CABEZAL A;
SELECT A.* FROM TRANSPORTISTA A;
SELECT A.* FROM CLIENTE A;
SELECT A.* FROM CLIENTE_DESTINO A;

SELECT A.* FROM SMS_OPEN A;
SELECT A.* FROM VIAJES A;
SELECT A.* FROM VIAJES A WHERE A.FECHA_VIAJE='2023-07-07';

SELECT COUNT(*) NO_VIAJES FROM VIAJES A;
SELECT COUNT(*) NO_VIAJES FROM VIAJES A WHERE A.ESTADO='ACT';

SELECT A.FECHA_VIAJE, COUNT(*) NO_VIAJES
FROM VIAJES A
WHERE A.ESTADO='ACT' 
GROUP BY A.FECHA_VIAJE
ORDER BY A.FECHA_VIAJE;

SELECT B.CODIGO PLANTA, A.NUMERO_VIAJE, A.FECHA_VIAJE
FROM VIAJES A LEFT JOIN PLANTA B ON (A.ID_PLANTA=B.ID_PLANTA) 
WHERE A.ESTADO='ACT' 
ORDER BY A.FECHA_VIAJE;

SELECT P.NOMBRE PAIS, C.NOMBRE COMPANIA, PA.NOMBRE PLANTA, T.NOMBRE TRANSPORTISTA, COUNT(*) NO_VIAJES
FROM VIAJES V 
     LEFT JOIN PAIS P ON (V.ID_PAIS = P.ID_PAIS) 
     LEFT JOIN COMPANIA C ON (V.ID_COMPANIA = C.ID_COMPANIA) 
     LEFT JOIN PLANTA PA ON (V.ID_PLANTA = PA.ID_PLANTA) 
     LEFT JOIN TRANSPORTISTA T ON (V.ID_TRANSPORTISTA=T.ID_TRANSPORTISTA)
WHERE V.ID_PAIS=6 AND V.FECHA_VIAJE > '2023-07-01' AND V.TIPO_FLETE_VIAJE NOT LIKE '%FOB%'
GROUP BY P.NOMBRE, C.NOMBRE, PA.NOMBRE, T.NOMBRE
ORDER BY P.NOMBRE, C.NOMBRE, PA.NOMBRE, T.NOMBRE;

SELECT A.* FROM CABEZAL A WHERE TRIM(A.IMEI) IN (SELECT B.IMEI FROM SMS_OPEN B) UNION ALL -- 46
SELECT A.* FROM CABEZAL A WHERE TRIM(A.IMEI) NOT IN (SELECT B.IMEI FROM SMS_OPEN B); -- 41

SELECT A.* FROM TRANSPORTISTA A WHERE A.ID_TRANSPORTISTA=10;
SELECT A.* FROM VEHICULO A WHERE A.ID_TRANSPORTISTA=10 ORDER BY A.ID_VEHICULO;
SELECT A.* FROM CABEZAL A WHERE A.ID_TRANSPORTISTA=10 ORDER BY A.ID_CABEZAL;
SELECT A.* FROM SMS_OPEN A WHERE A.IMEI IN (SELECT A.IMEI FROM CABEZAL A WHERE A.ID_TRANSPORTISTA=10);

SELECT A.* FROM VEHICULO A WHERE A.ID_TRANSPORTISTA=42;
SELECT A.* FROM CABEZAL A WHERE A.ID_TRANSPORTISTA=42;
SELECT A.* FROM SMS_OPEN A WHERE A.IMEI IN (SELECT A.IMEI FROM CABEZAL A WHERE A.ID_TRANSPORTISTA=42);

SELECT A.* FROM VEHICULO A WHERE TRIM(A.CODIGO) IN ('SVS109', 'SVS234', 'SVS235', 'SVS23T', 'SVS240', 'SVS24T', 'SVS25T', 'SVS39', 'SVS3T', 'SVS711', 'SVS716', 'SVS720', 'SVS721', 'SVS722', 'SVS9T');

SELECT A.* FROM VEHICULO A WHERE A.CODIGO='SVS240';
SELECT A.* FROM VEHICULO A WHERE A.ID_TRANSPORTISTA IN (10, 42);
SELECT A.* FROM TRANSPORTISTA A WHERE A.ID_TRANSPORTISTA=10;
-- 'SVS240',
SELECT MAX(ID_VEHICULO) FROM VEHICULO;
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2286, 'SVS109', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2287, 'SVS234', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2288, 'SVS235', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2289, 'SVS23T', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2290, 'SVS24T', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2291, 'SVS25T', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2292, 'SVS39', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2293, 'SVS3T', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2294, 'SVS711', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2295, 'SVS716', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2296, 'SVS720', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2297, 'SVS721', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2298, 'SVS722', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO VEHICULO (ID_VEHICULO, CODIGO, PLACA, ID_TRANSPORTISTA, FECHA_HORA) VALUES (2299, 'SVS9T', '-', 10, CURRENT_TIMESTAMP);

SELECT A.* FROM CABEZAL A;
SELECT A.* FROM CABEZAL A WHERE TRIM(A.CODIGO) IN ('SVS58-1','SVS67','SVS38','SVS39');
SELECT MAX(ID_CABEZAL) FROM CABEZAL;
INSERT INTO CABEZAL (ID_CABEZAL, CODIGO, PLACA, IMEI, ID_TRANSPORTISTA, FECHA_HORA) VALUES (88, 'SVS58-1', '-', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO CABEZAL (ID_CABEZAL, CODIGO, PLACA, IMEI, ID_TRANSPORTISTA, FECHA_HORA) VALUES (89, 'SVS67', '-', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO CABEZAL (ID_CABEZAL, CODIGO, PLACA, IMEI, ID_TRANSPORTISTA, FECHA_HORA) VALUES (90, 'SVS38', '-', '-', 10, CURRENT_TIMESTAMP);
INSERT INTO CABEZAL (ID_CABEZAL, CODIGO, PLACA, IMEI, ID_TRANSPORTISTA, FECHA_HORA) VALUES (91, 'SVS39', '-', '-', 10, CURRENT_TIMESTAMP);

INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1807,NULL,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1758,88,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1645,9,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1396,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1044,NULL,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,1007,43,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,944,25,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,873,86,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,799,2,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,713,89,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,633,32,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,591,21,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,552,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,507,90,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,430,69,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,417,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,416,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,355,70,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,340,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,295,75,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,294,40,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,291,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,160,17,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,159,15,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,95,NULL,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,93,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,92,37,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,91,13,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,90,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,89,31,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,34,NULL,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,33,73,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,19,35,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,18,11,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,17,36,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2286,26,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2287,22,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2288,7,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2289,74,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2290,29,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2291,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2292,91,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2293,87,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2294,26,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2295,42,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2296,14,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2297,27,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2298,12,'2023-07-06',CURRENT_TIMESTAMP);
INSERT INTO DISPONIBILIDAD (ID_TRANSPORTISTA, ID_VEHICULO, ID_CABEZAL, FECHA, FECHA_HORA_TERMINADO) VALUES (10,2299,5,'2023-07-06',CURRENT_TIMESTAMP);